---
title: MySQL之分库分表
date: 2024-08-29 14:03:00
tags: 
    - MySQL
    - Ops
categories: 数据库
---

## 概述

随着数据量增加，单数据库存在以下性能瓶颈：

1. IO瓶颈：热点数据多，数据库缓存不足，产生大量磁盘IO，效率低；请求数据多，网络IO瓶颈
2. CPU瓶颈：排序、分组、连接查询、聚合统计等SQL会消耗大量CPU资源

中心思想：将数据分散存储

### 拆分策略

- 垂直拆分：拆结构
- 水平拆分：拆数据

分库： 一个数据库的数据分散到多个数据库

分表：一个表的数据分散到多个表

垂直分库：根据业务不同将不同表拆分到不同库中

垂直分表：根据字段不同将不同字段拆分到不同表中

水平分库：根据某些策略将一个数据库的数据拆分到多个库中

水平分表：根据某些策略将一个表的数据拆分到多个表中

### 实现技术

- shardingJDBC：基于AOP原理，将应用程序中执行的SQL进行拦截，解析、改写、路由处理
- MyCat：数据库分库分表中间件，不用调整代码即可实现分库分表

## MyCat概述

MySQL数据库中间件，主要用于实现数据库的读写分离和分库分表等功能。

![image-20240829134925756](./pics/image-20240829134925756.png)

